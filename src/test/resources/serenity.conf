#
# BROWSERSTACK TEST EXECUTION
# You define the BrowserStack credentials either in the BROWSERSTACK_USER and BROWSERSTACK_KEY environment variables
#
webdriver {
  base.url = "http://todomvc.com/examples/angularjs/#/"
  driver = "remote"
  remote.url = "https://"${BROWSERSTACK_USER}":"${BROWSERSTACK_KEY}"@hub.browserstack.com/wd/hub"
  # You can specify the remote URL explicitly, or let the serenity-browserstack library do it for you
  capabilities {
    "bstack:options" {
      // iPhone 12
      osVersion: 14
      deviceName: "iPhone 12"
      // SAMSUNG GALAXY S23
      //      osVersion: 13.0
      //      deviceName: "Galaxy S23"
      realMobile: true
    }
  }
}

headless.mode = true

serenity {
  project.name = "Serenity BDD TodoMVC"
  tag.failures = "true"
  linked.tags = "issue"
  restart.browser.for.each = scenario
  logging = verbose
  #
  # Use these options to reduce the size of the reports
  #
  # Report on test durations
  report.test.durations = true
  take.screenshots=FOR_EACH_ACTION
  # Store HTML source for each page
  # (can be: FOR_EACH_ACTION, BEFORE_AND_AFTER_EACH_STEP, FOR_FAILURES or DISABLED)
  # store.html = FAILURES
}

# Default page configuration
home.page = "http://todomvc.com/examples/angularjs/#/"
